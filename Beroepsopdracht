const readline = require('readline');

const rl = readline.createInterface({
    input: process.stdin,
    output: process.stdout,
});

function askQuestion(question, options) {
    return new Promise((resolve) => {
        const optionsStr = options.join('/');
        rl.question(`${question} [${optionsStr}]: `, (answer) => {
            if (options.includes(answer.toUpperCase())) {
                resolve(answer.toUpperCase());
            } else {
                console.log(`Ongeldige invoer. Kies uit [${optionsStr}]`);
                resolve(askQuestion(question, options));
            }
        });
    });
}

async function startStory() {
    console.log('Welkom bij het avontuur van Daniel!');
    console.log('Laten we beslissingen nemen en het verhaal samen verkennen.');

    const answers = {};

    answers.q1 = await askQuestion('Daniel heeft eindelijk de financiering en de uitrusting bij elkaar om zijn zoektocht te beginnen. Moet hij zijn reis alleen maken of iemand meenemen voor hulp en gezelschap?', ['A', 'B']);

    if (answers.q1 === 'A') {
        console.log('Avontuurlijk solo! Laten we doorgaan.');

        answers.q2 = await askQuestion('Daniel heeft besloten om zijn beste vriend Mark mee te nemen op zijn reis. Ze staan aan het begin van de jungle. Moet Daniel de gemakkelijke, bekende route nemen of de avontuurlijke, onbekende route?', ['A', 'B']);

        if (answers.q2 === 'A') {
            console.log('Veilig en bekend! Laten we doorgaan.');

            answers.q3 = await askQuestion('Tijdens hun reis merken Daniel en Mark dat ze een rivier moeten oversteken. Moeten ze een stevige brug proberen te vinden of de rivier met een zelfgemaakt vlot oversteken?', ['A', 'B']);

            if (answers.q3 === 'A') {
                console.log('Op zoek naar een brug! Laten we doorgaan.');

                answers.q4 = await askQuestion('Terwijl ze diep in de jungle zijn, horen ze vreemde geluiden van dieren in de verte. Moeten ze het geluid volgen om te ontdekken wat het is of zich stilhouden en hun koers vervolgen?', ['A', 'B']);

                if (answers.q4 === 'A') {
                    console.log('Op zoek naar avontuur! Laten we doorgaan.');

                    answers.q5 = await askQuestion('De geluiden blijken afkomstig van een zeldzame diersoort te zijn. Moeten ze proberen het dier te vangen voor onderzoek of het met rust laten?', ['A', 'B']);

                    if (answers.q5 === 'A') {
                        console.log('Onderzoekende geest! Laten we doorgaan.');

                        answers.q6 = await askQuestion('Na enkele weken in de jungle te hebben doorgebracht, ontmoeten ze een lokale stam. Moeten ze de stam nader benaderen en proberen met hen te communiceren of hun afstand bewaren?', ['A', 'B']);

                        if (answers.q6 === 'A') {
                            console.log('Sociaal en nieuwsgierig! Laten we doorgaan.');

                            answers.q7 = await askQuestion('De stam accepteert Daniel en Mark als gasten. Ze worden uitgenodigd voor een ceremonie. Moeten ze deelnemen aan de ceremonie of beleefd weigeren?', ['A', 'B']);

                            if (answers.q7 === 'A') {
                                console.log('Deelnemen aan de festiviteiten! Laten we doorgaan.');

                                answers.q8 = await askQuestion('Tijdens de ceremonie krijgen Daniel en Mark een drankje aangeboden dat ze nog nooit eerder hebben gezien. Moeten ze het drinken of weigeren?', ['A', 'B']);

                                if (answers.q8 === 'A') {
                                    console.log('Een slokje avontuur! Laten we doorgaan.');

                                    answers.q9 = await askQuestion('Het drankje blijkt veilig en verkwikkend te zijn. Daniel en Mark voelen zich op hun gemak in de stam. Moeten ze langer bij de stam blijven om meer te leren over hun cultuur of doorgaan met hun zoektocht?', ['A', 'B']);

                                    if (answers.q9 === 'A') {
                                        console.log('Cultuur en vriendschap! Laten we doorgaan.');

                                        answers.q10 = await askQuestion('Na enkele maanden bij de stam te hebben doorgebracht, hoort Daniel een gerucht dat zijn biologische familie in de buurt zou kunnen zijn. Moeten ze het gerucht onderzoeken of blijven ze bij de stam?', ['A', 'B']);

                                        if (answers.q10 === 'A') {
                                            console.log('Op zoek naar familie! Laten we doorgaan.');

                                            answers.q11 = await askQuestion('Het gerucht blijkt waar te zijn. Daniel vindt aanwijzingen die hem dichter bij zijn familie brengen. Moet hij zijn zoektocht voortzetten, ondanks het verdriet van het afscheid van de stam, of blijven en zijn nieuwe familie koesteren?', ['A', 'B']);

                                            if (answers.q11 === 'A') {
                                                console.log('De zoektocht gaat door! Laten we doorgaan.');

                                                answers.q12 = await askQuestion('Terwijl Daniel zijn zoektocht voortzet, komt hij gevaarlijke dieren en natuurlijke obstakels tegen. Moet hij deze uitdagingen alleen aangaan of hulp vragen aan de lokale stamleden die hij heeft ontmoet?', ['A', 'B']);

                                                if (answers.q12 === 'A') {
                                                    console.log('Moedig! Laten we doorgaan.');

                                                    answers.q13 = await askQuestion('Na een lange zoektocht komt Daniel eindelijk oog in oog te staan met zijn biologische familie. Moet hij zichzelf meteen bekendmaken of eerst observeren en afwachten?', ['A', 'B']);

                                                    if (answers.q13 === 'A') {
                                                        console.log('Familiebanden versterken! Laten we doorgaan.');

                                                        answers.q14 = await askQuestion('Als Daniel zichzelf bekendmaakt, blijken zijn biologische familieleden overweldigd en gelukkig te zijn. Ze willen dat hij blijft. Moet hij bij hen blijven of teruggaan naar de stam?', ['A', 'B']);

                                                        if (answers.q14 === 'A') {
                                                            console.log('Bij zijn biologische familie blijven! Laten we doorgaan.');

                                                            answers.q15 = await askQuestion('Als Daniel terugkeert naar de stam, verwelkomen ze hem met open armen en zijn blij dat hij zijn familie heeft gevonden. Moet hij bij de stam blijven of met zijn biologische familie zijn?', ['A', 'B']);

                                                            if (answers.q15 === 'A') {
                                                                console.log('Twee werelden! Laten we doorgaan.');

                                                                answers.q16 = await askQuestion('Als Daniel bij zijn biologische familie blijft, leren ze hem hun manier van leven en tradities. Moet hij zijn werk als bioloog opgeven en zich volledig aanpassen aan hun cultuur of proberen een balans te vinden tussen beide?', ['A', 'B']);

                                                                if (answers.q16 === 'A') {
                                                                    console.log('Nieuw begin! Laten we doorgaan.');

                                                                    answers.q17 = await askQuestion('Als Daniel een balans probeert te vinden, komt hij in conflict tussen zijn twee werelden. Moet hij zijn biologische familie vertellen over zijn werk als bioloog of het geheim houden om hun relatie te beschermen?', ['A', 'B']);

                                                                    if (answers.q17 === 'A') {
                                                                        console.log('Open en eerlijk! Laten we doorgaan.');

                                                                        answers.q18 = await askQuestion('Als Daniel besluit om zijn werk te onthullen, ontstaat er begrip tussen hem en zijn biologische familie. Ze respecteren zijn keuzes. Moet hij nu proberen om zijn werk te combineren met het helpen van zijn familie of zijn werk opgeven om hen te ondersteun', ['A', 'B']);

                                                                        if (answers.q18 === 'A') {
                                                                            console.log('Balans in het leven! Laten we doorgaan.');

                                                                            answers.q19 = await askQuestion('Nu Daniel begrijpt dat hij zijn werk kan combineren met het helpen van zijn familie, moet hij de lokale overheid inlichten over hun behoeften en zijn onderzoeksexpertise aanbieden om hun levensomstandigheden te verbeteren. Moet hij de overheid benaderen en samenwerken met hen, of moet hij het familieleven buiten de overheid houden?', ['A', 'B']);

                                                                            if (answers.q19 === 'A') {
                                                                                console.log('Hulp bieden! Laten we doorgaan.');

                                                                                answers.q20 = await askQuestion('Terwijl Daniel zijn werk combineert met het helpen van zijn familie, wordt hij geconfronteerd met enkele ethische dilemma\'s, zoals het behoud van de jungle en de inheemse cultuur. Moet hij zich inzetten voor het behoud van de jungle en de cultuur, zelfs als dit betekent dat hij tegen de lokale overheid en andere belangen moet ingaan?', ['A', 'B']);

                                                                                if (answers.q20 === 'A') {
                                                                                    console.log('Voor het behoud! Laten we doorgaan.');

                                                                                    answers.q21 = await askQuestion('De situatie in de jungle wordt gecompliceerder door ongeoorloofde houtkap en milieuvernietiging. Moet Daniel de lokale overheid en internationale organisaties inlichten om actie te ondernemen of de zaak zelf proberen op te lossen?', ['A', 'B']);

                                                                                    if (answers.q21 === 'A') {
                                                                                        console.log('Actie ondernemen! Laten we doorgaan.');

                                                                                        answers.q22 = await askQuestion('Na vele jaren in de jungle, heeft Daniel een succesvolle balans gevonden tussen zijn werk als bioloog, het helpen van zijn familie en het behoud van de jungle. Moet hij de rest van zijn leven in de jungle doorbrengen of terugkeren naar de buitenwereld en zijn verhaal delen met de wereld?', ['A', 'B']);

                                                                                        if (answers.q22 === 'A') {
                                                                                            console.log('Leven in de jungle! Einde van het verhaal.');
                                                                                        } else {
                                                                                            console.log('Terug naar de buitenwereld! Einde van het verhaal.');
                                                                                        }
                                                                                    } else {
                                                                                        console.log('Zaak zelf oplossen! Einde van het verhaal.');
                                                                                    }
                                                                                } else {
                                                                                    console.log('Samenwerken met de overheid! Einde van het verhaal.');
                                                                                }
                                                                            } else {
                                                                                console.log('Familieleven privé houden! Einde van het verhaal.');
                                                                            }
                                                                        } else {
                                                                            console.log('Balans in het leven! Einde van het verhaal.');
                                                                        }
                                                                    } else {
                                                                        console.log('Geheimen bewaren! Einde van het verhaal.');
                                                                    }
                                                                } else {
                                                                    console.log('Open en eerlijk! Einde van het verhaal.');
                                                                }
                                                            } else {
                                                                console.log('Familiebanden versterken! Einde van het verhaal.');
                                                            }
                                                        } else {
                                                            console.log('Terug naar de stam! Einde van het verhaal.');
                                                        }
                                                    } else {
                                                        console.log('Op zoek naar familie! Einde van het verhaal.');
                                                    }
                                                } else {
                                                    console.log('De zoektocht gaat door! Einde van het verhaal.');
                                                }
                                            } else {
                                                console.log('Twee werelden! Einde van het verhaal.');
                                            }
                                        } else {
                                            console.log('Bij zijn biologische familie blijven! Einde van het verhaal.');
                                        }
                                    } else {
                                        console.log('Met zijn biologische familie zijn! Einde van het verhaal.');
                                    }
                                } else {
                                    console.log('Een slokje avontuur! Einde van het verhaal.');
                                }
                            } else {
                                console.log('Deelnemen aan de festiviteiten! Einde van het verhaal.');
                            }
                        } else {
                            console.log('Sociaal en nieuwsgierig! Einde van het verhaal.');
                        }
                    } else {
                        console.log('Onderzoekende geest! Einde van het verhaal.');
                    }
                } else {
                    console.log('Op zoek naar avontuur! Einde van het verhaal.');
                }
            } else {
                console.log('Veilig en bekend! Einde van het verhaal.');
            }
        } else {
            console.log('De avontuurlijke route! Einde van het verhaal.');
        }
    } else {
        console.log('Iemand meenemen! Einde van het verhaal.');
    }

    rl.close();
}

startStory();
